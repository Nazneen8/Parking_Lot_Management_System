<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Dashboard</title>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="CSS/styles.css">
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="profile">
        <div class="avatar"><i class="fas fa-user-circle"></i></div>
        <h3>STUDENT NAME</h3>
        <p>STUDENT EMAIL</p>
      </div>
      <nav class="menu">
        <a href="notifications.html" class="menu-item"><i class="fas fa-bell"></i> Notifications</a>
        <a href="payments.html" class="menu-item"><i class="fas fa-credit-card"></i> Payments</a>
        <a href="settings.html" class="menu-item"><i class="fas fa-cog"></i> Settings</a>
      </nav>
      <div class="logout">
        <a href="studentLogin.html" class="menu-item"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="status">
        <div class="occupied">
          <h4>OCCUPIED</h4>
          <span class="count">0</span>
        </div>
        <div class="available">
          <h4>AVAILABLE</h4>
          <span class="count green">20</span>
        </div>
      </div>
      <br><br><br>
     <!--ADD BUTTONS INDICATING PARKING-->
     <div class="parking-lot">
    <a href="payments.html"><button class="parking-space" data-status="grey">A1</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A2</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A3</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A4</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A5</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A6</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A7</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A8</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A9</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">A10</button></a>
  </div>
<br><br>
    <div class="parking-lot">
    <a href="payments.html"><button class="parking-space" data-status="grey">B1</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B2</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B3</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B4</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B5</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B6</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B7</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B8</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B9</button></a>
    <a href="payments.html"><button class="parking-space" data-status="grey">B10</button></a>
  </div>
  

  <!-- JAVASCRIPT TO ALLOW BUTTONS TO CHANGE  COLOUR ONCE SELECTED -->
   <!--- <script>
    const apiUrl = 'http://localhost:3000/spaces';

    async function loadSpaces() {
      const res = await fetch(apiUrl);
      const spaces = await res.json();

      const lot = document.getElementById('parkingLot');
      lot.innerHTML = '';

      spaces.forEach(space => {
        const btn = document.createElement('button');
        btn.textContent = space.SpaceName;
        btn.className = 'parking-space';
        btn.dataset.status = space.Status;

        btn.addEventListener('click', async () => {
          let newStatus;
          if (space.Status === 'grey') newStatus = 'red';
          else if (space.Status === 'red') newStatus = 'green';
          else newStatus = 'grey';

          space.Status = newStatus;
          btn.dataset.status = newStatus;

          await fetch(`${apiUrl}/${space.SpaceID}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ status: newStatus })
          });
        });

        lot.appendChild(btn);
      });
    }

    loadSpaces();
  </script>  -->

    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
